<div class="wrap-1600">
  <div class="flow-text lucida flex" infinite-scroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="500"
    (scrolled)="onScroll()">
    <div class="half padded black-b b-a-f neon-text shine">
      <!-- <input formControlName="search" type="text" name="search" placeholder="Search for..." class="larger lucida b-b-f"> -->
      @if (headLines) {
      <div class="ul">
        @for (bill of headLines; track bill.id) {
        <p class="spacer"></p>
        <button class="glitchtext" (click)="changeRoute(bill.bill_id)">
          {{ bill.headLine }}
        </button>
        }
      </div>
      } @else {
      <div class="ul">
        <p class="neon-text">No Headlines</p>
      </div>
      }
    </div>

    @if (stories) { @for (story of stories; track $index && story._id) {
    <div class="padded b-s-t black-b full" (click)="changeRoute(story.bill_id)"
      [ngClass]="$index === 0 ? 'half' : story.className" [routerLink]="['/story', story.bill_id]">
      <p class="impact larger">{{ story.headLine }}</p>
      <p class="spacer"></p>

      @if(story.isImage) {
      <img class="resize-both responsive" src="{{ story.image }}" alt="{{ story.headLine }}" />
      <p class="spacer"></p>
      <span class="helvetica keep-all flow-text justify guard" [innerHTML]="story.cSummery"></span>
      } @if(!story.isImage) {
      <span class="helvetica keep-all flow-text justify guard" [innerHTML]="story.cStory"></span>
      }
      <p class="spacer"></p>
      @if (story.latest_major_action && story.latest_major_action_date) {
      <p class="brutal-text smaller float-right">
        {{ story.latest_major_action_date }}
      </p>
      <ul class="tags">
        <li class="helvetica smaller chop-8">{{ story.latest_major_action }}</li>
      </ul>
      }
      <p class="spacer"></p>
      @if (story?.account?.twitter_account) {
      <button class="flood btn-medium bitshadow" (click)="openTwitter(story?.account?.twitter_account)">
        &#64;{{story?.account?.twitter_account}}
      </button>
      }
    </div>
    } } @else {
    <p class="helvetica larger">No Stories</p>
    }
  </div>
  @if (isLoading) {
  <div class="brickbuild"></div>
  }
</div>