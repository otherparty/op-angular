<app-navbar></app-navbar>

<app-title></app-title>
<br>
<!-- flexbox layout -->

@if (bill) {
<div class="white invert table-responsive">

  <div class="flex flow-text lucida">
    <!-- two columns -->
    <div class="half padded evenly infinitile">
      <!-- <p class="helvetica larger">Dairy Innovation</p> -->
      <div class="resize-both responsive"><img [src]="sanitize(billSummery.image)" style="max-height: 80%" sanitize>
      </div>
      <br>
      <p class="brutal-text fittext float-right">{{ bill.latest_major_action_date | date}}</p>
      <ul class="tags">
        <li>{{ bill.latest_major_action }}</li>
      </ul>

      <ul class="tags">
        <li>
          <a href="https://twitter.com/intent/tweet?text={{bill.twitterText}}" target="_blank"
            class="btn white-t azure hue-h box-s"><strong>Twitter</strong></a>
        </li>
        <li>
          <div class="fb-share-button" data-href="https://otherparty.ai" data-layout="button_count" data-size="">
            <a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u={{bill.faceBookText}}"
              class="btn white-t azure hue-h box-s fb-xfbml-parse-ignore">Facebook</a>
          </div>
        </li>
      </ul>


      <!-- <ul class="tags">
          <li>
            <a class="twitter-share-button" href="https://twitter.com/intent/tweet?text={{bill.twitterText}}" target="_blank">
              <i class="bi bi-apple"></i> </a>
            &nbsp;
            <a href="">
              <i class="bi bi-avocado"></i>
            </a>
          </li>
        </ul> -->
    </div>
    <div class="half padded">
      <p class="helvetica larger">{{billSummery?.headLine}}</p>
      <br>
      <span class="helvetica keep-all flow-text justify"
        [innerHTML]="billSummery?.summary || billSummery?.story"></span>
      <br>
      <br>
      <span class="helvetica keep-all flow-text justify" [innerHTML]="billSummery?.bill_text_summary"></span>
      @if (bill?.account?.twitter_account) {
      <button class="flood btn-medium bitshadow" (click)="openTwitter(bill?.account?.twitter_account)">
        &#64;{{bill?.account?.twitter_account}}</button>
      }
      <br>
      <br>
      @if (bill?.govtrack_url) {
      <button class="river-b sepia small-btn bitshadow zoom-in" (click)="openGovTrack(bill?.govtrack_url)">Track
        #{{bill?.bill_slug}}</button>
      }
      <!-- <a class="neon-text" target="_blank" [href]="bill?.govtrack_url">{{bill?.govtrack_url}}</a> -->
    </div>

  </div>
  <!-- <app-content></app-content> -->
  <p class="spacer"></p>
  <p class="spacer"></p>
  <p class="spacer"></p>
</div>
}

@if (this.repResponse.length) {
<div class="white invert flex flow-text arial">

  <!-- two columns -->
  @for (item of this.repResponse; track $index) {
  <p class="impact larger full sand padded">{{item.account.first_name + ' ' + item.account.last_name }}</p>

  <div class="half padded b-s-t black-b">
    <br>
    <p class="helvetica larger glitchtext">Summary</p>
    <div class="third padded black-b b-b-t infinitile">
      <br>
      <div class="ul">
        <p><span class="bold">Voted</span> {{item.votes || 0}} times</p>
        <br>
        <p><span class="bold">Sponsored</span> {{item.sponsoredBills || 0}} bills</p>
        <br>
        <p><span class="bold">Cosponsored</span> {{item.cosponsoredBills || 0}} bills</p>
        <br>
        <p><span class="bold">Amended</span> {{item.amendments || 0}} bills</p>
        <br>
      </div>
    </div>
    <br>
    <p class="helvetica larger glitchtext">Brought to Congress</p>
    <div class="third padded black-b b-b-t sand">
      <br>
      <div class="flow-text helvetica flex" infinite-scroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="500">
        <div class="full-height-scrollable-container full padded heavy ul">
          @if (votedForList) {
          <div class="ul hi-opacity">
            @for (bill of votedSponsoredCosponsoredList; track bill.bill_id) {
            <p class="spacer"></p>
            <button class="left-align white" (click)="getStory(bill)">
              {{ bill.headLine }}
            </button>
            }
          </div>
          } @else {
          <div class="ul">
            <p class="neon-text">No Headlines</p>
          </div>
          }
        </div>
      </div>
    </div>
  </div>
  <div class="half padded">
    <br>
    <p class="helvetica larger glitchtext">Supported</p>
    <div class="third padded black-b b-b-t flood">
      <br>
      <div class="flow-text helvetica flex" infinite-scroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="500">
        <div class="full-height-scrollable-container full padded heavy ul">
          @if (votedForList) {
          <div class="ul hi-opacity">
            @for (bill of votedForList; track bill.bill_id) {
            <p class="spacer"></p>
            <button class="left-align black" (click)="getStory(bill)">
              {{ bill.headLine }}
            </button>
            }
          </div>
          } @else {
          <div class="ul">
            <p class="neon-text">No Headlines</p>
          </div>
          }
        </div>
      </div>
    </div>

    <br>
    <p class="helvetica larger glitchtext"> Opposed</p>
    <div class="third padded b-s-t black-b heat">
      <br>
      <div class="flow-text helvetica flex" infinite-scroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="500">
        <div class="full-height-scrollable-container full padded heavy ul">
          @if (votedAgainstList) {
          <div class="ul hi-opacity">
            @for (bill of votedAgainstList; track bill.bill_id) {
            <p class="spacer"></p>
            <button class="left-align" (click)="getStory(bill)">
              {{ bill.headLine }}
            </button>
            }
          </div>
          } @else {
          <div class="ul">
            <p class="neon-text">No Headlines</p>
          </div>
          }
        </div>
      </div>
    </div>
  </div>
  }
</div>
}

<p class="spacer"></p>

<app-footer></app-footer>